COLLECTION(PERSON(Internal PersonId).shareables, filter:label==event.programLabel)
collection(person(event.personId).audienceMemberships, extracting:audienceId)
collection(person_id, collection:\"rewards\", filter: faceValueType == event.faceValueType and personRole like rewardee_role_pattern and name like reward_name_pattern and none(rewardSlots like \".*historical.*\") and any(rewardSlots like tag_pattern) and all(data.journey_name like journey_name_pattern))
collection(person_rewards_matching_dimensions, filter: dateEarned like current_year and state not like failed_or_canceled_regex, extracting: faceValue)
collection(person_rewards_matching_dimensions, filter: dateEarned like current_year and state not like failed_or_canceled_regex, extracting:id)
collection(person_rewards_matching_dimensions, filter: state==\"CANCELED\" and dateEarned >= one_year_ago, extracting: faceValue)
collection(person_rewards_matching_dimensions, filter: state==\"CANCELED\" and dateEarned >= one_year_ago, extracting:id)
collection(person_rewards_matching_dimensions, filter: state==\"CANCELED\", extracting: faceValue)
collection(person_rewards_matching_dimensions, filter: state==\"CANCELED\", extracting:id)
collection(person_rewards_matching_dimensions, filter: state==\"FAILED\" and dateEarned >= one_year_ago, extracting: faceValue)
collection(person_rewards_matching_dimensions, filter: state==\"FAILED\" and dateEarned >= one_year_ago, extracting:id)
collection(person_rewards_matching_dimensions, filter: state==\"FAILED\", extracting: faceValue)
collection(person_rewards_matching_dimensions, filter: state==\"FAILED\", extracting:id)
collection(person_rewards_matching_dimensions, filter: state not like failed_or_canceled_regex and dateEarned like previous_year, extracting: faceValue)
collection(person_rewards_matching_dimensions, filter: state not like failed_or_canceled_regex and dateEarned like previous_year, extracting:id)
collection(person_rewards_matching_dimensions, filter: state not like failed_or_canceled_regex and dateEarned >= one_year_ago, extracting: faceValue)
collection(person_rewards_matching_dimensions, filter: state not like failed_or_canceled_regex and dateEarned >= one_year_ago, extracting:id)
collection(person_rewards_matching_dimensions, filter: state not like failed_or_canceled_regex, extracting: faceValue)
collection(person_rewards_matching_dimensions, filter: state not like failed_or_canceled_regex, extracting:id)
collection(reward(event.rewardId).tags,filter: value like \".*historical.*\")
collection(reward(event.rewardId).tags, separator:\",\")
collection(split(concatenate_collection(PERSON(event.personId).recentRequestContexts,extracting: geoIp.country.name,joinBy:\",\",unique:\"true\"),separator:\",\"),filter: value !=\"\")
collection(event.tags,filter:value==\"manual\")
collection(campaign(event.campaignId).tags, filter:value like \".*(staging|Staging).*\")
collection(event.tags, filter:value == \"manual\")
COLLECTION(person(event.personId).steps, filter:stepName==\"application_approved\")
COLLECTION(person(event.personId).steps, filter:stepName==\"application_auto_approved\")
COLLECTION(person(event.personId).steps, filter:stepName==\"application_declined\")
COLLECTION(PERSON(event.personId).shareables, filter:label==event.programLabel)
collection(PERSON(event.personId).recentRequestContexts,extracting: geoIp.country.name,joinBy:\",\",unique:\"true\")
